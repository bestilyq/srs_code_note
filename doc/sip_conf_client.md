<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:等线;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"等线 Light";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@等线";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@等线 Light";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:等线;}
h1
	{mso-style-link:"标题 1 字符";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:240%;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:等线;}
h2
	{mso-style-link:"标题 2 字符";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"等线 Light";}
h3
	{mso-style-link:"标题 3 字符";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:173%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:等线;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:等线;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:等线;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:等线;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"页眉 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:等线;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"页脚 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:等线;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:等线;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	font-size:10.5pt;
	font-family:等线;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"等线 Light";
	color:#2F5496;}
span.a
	{mso-style-name:"页眉 字符";
	mso-style-link:页眉;}
span.a0
	{mso-style-name:"页脚 字符";
	mso-style-link:页脚;}
span.1
	{mso-style-name:"标题 1 字符";
	mso-style-link:"标题 1";
	font-weight:bold;}
span.2
	{mso-style-name:"标题 2 字符";
	mso-style-link:"标题 2";
	font-family:"等线 Light";
	font-weight:bold;}
span.3
	{mso-style-name:"标题 3 字符";
	mso-style-link:"标题 3";
	font-weight:bold;}
.MsoChpDefault
	{font-family:等线;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN link="#0563C1" vlink="#954F72" style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<h1><a name="_Toc14873727"><span lang=EN-US>SIP</span>客户端接入会议方案</a></h1>

<p class=MsoTocHeading>目录</p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc14873727">SIP<span lang=EN-US><span
lang=EN-US>客户端接入会议方案</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc14873728"><span lang=EN-US><span
lang=EN-US>需求</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc14873729"><span lang=EN-US><span
lang=EN-US>应用场景</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873730"><span lang=EN-US><span
lang=EN-US>客户端接入场景</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873731"><span lang=EN-US><span
lang=EN-US>需混屏场景</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc14873732"><span lang=EN-US><span
lang=EN-US>系统设计</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873733"><span lang=EN-US><span
lang=EN-US>系统架构</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873734">SIP<span lang=EN-US><span
lang=EN-US>单流架构</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873735">SIP<span lang=EN-US><span
lang=EN-US>双流架构</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873736"><span lang=EN-US><span
lang=EN-US>客户端视频流交互</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873737"><span lang=EN-US><span
lang=EN-US>一个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>单流)</span></span><span lang=EN-US><span lang=EN-US>与</span></span><span
lang=EN-US><span lang=EN-US>会议</span></span><span lang=EN-US><span lang=EN-US>客户端</span></span><span
style='color:windowtext;display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873738"><span lang=EN-US><span
lang=EN-US>一个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>单流)</span></span><span lang=EN-US><span lang=EN-US>与</span></span><span
lang=EN-US><span lang=EN-US>会议</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>共享屏幕)</span></span><span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873739"><span lang=EN-US><span
lang=EN-US>一个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>双流)</span></span><span lang=EN-US><span lang=EN-US>与</span></span><span
lang=EN-US><span lang=EN-US>会议</span></span><span lang=EN-US><span lang=EN-US>客户端</span></span><span
style='color:windowtext;display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873740"><span lang=EN-US><span
lang=EN-US>一个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>双流)</span></span><span lang=EN-US><span lang=EN-US>与</span></span><span
lang=EN-US><span lang=EN-US>会议</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>共享屏幕)</span></span><span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873741"><span lang=EN-US><span
lang=EN-US>两个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端</span></span><span
style='color:windowtext;display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873742"><span lang=EN-US><span
lang=EN-US>两个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>共享屏幕)</span></span><span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873743"><span lang=EN-US><span
lang=EN-US>两个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端与一个</span></span><span
lang=EN-US><span lang=EN-US>会议</span></span><span lang=EN-US><span lang=EN-US>客户端</span></span><span
style='color:windowtext;display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873744"><span lang=EN-US><span
lang=EN-US>两个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端与一个</span></span><span
lang=EN-US><span lang=EN-US>会议</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>共享屏幕)</span></span><span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></span></p>

<p class=MsoToc3><span lang=EN-US><a href="#_Toc14873745"><span lang=EN-US><span
lang=EN-US>两个SIP</span></span><span lang=EN-US><span lang=EN-US>客户端(</span></span><span
lang=EN-US><span lang=EN-US>共享屏幕)</span></span><span lang=EN-US><span
lang=EN-US>与一个</span></span><span lang=EN-US><span lang=EN-US>会议</span></span><span
lang=EN-US><span lang=EN-US>客户端</span></span><span style='color:windowtext;
display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>8</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873746"><span lang=EN-US><span
lang=EN-US>客户端音视交互</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>8</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873747">sip<span lang=EN-US><span
lang=EN-US>客户端与会议系统信令与媒体交互</span></span><span style='color:windowtext;
display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873748">sip<span lang=EN-US><span
lang=EN-US>客户端与会议系统信令与媒体交互(</span></span><span lang=EN-US><span lang=EN-US>混屏)</span></span><span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc14873749"><span lang=EN-US><span
lang=EN-US>接口设计</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></span></p>

<p class=MsoToc2><span lang=EN-US><a href="#_Toc14873750">mcs-&gt;sip<span
lang=EN-US><span lang=EN-US>媒体网关新增接口</span></span><span style='color:windowtext;
display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc14873751"><span lang=EN-US><span
lang=EN-US>测试用例</span></span><span style='color:windowtext;display:none;
text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>11</span></a></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
style='font-size:22.0pt'>&nbsp;</span></b></p>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
style='font-size:22.0pt'>&nbsp;</span></b></p>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
style='font-size:22.0pt'>&nbsp;</span></b></p>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
style='font-size:22.0pt'>&nbsp;</span></b></p>

<p class=MsoNormal align=left style='text-align:left'><b><span lang=EN-US
style='font-size:22.0pt'>&nbsp;</span></b></p>

<h1><a name="_Toc14873728">需求</a></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;</span><span
style='font-size:12.0pt;font-family:宋体'>会议系统需要接入第三方客户端，目前市场上的第三方客户端一般都支持<span
lang=EN-US>sip</span>，如果需要兼容第三方客户端，需要在会议系统上支持<span lang=EN-US>sip</span>接入。第三方<span
lang=EN-US>sip</span>客户端一般有两种类型，视频单流与双流两种。</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>&nbsp;&nbsp;
</span><span style='font-size:12.0pt;font-family:宋体'>开会时有可能有多个人加入会议，而对针三方<span
lang=EN-US>sip</span>客户端的媒体通道是有限，不可能将其他人每人独身创建一个通道来显示，所以<span lang=EN-US>sip</span>客户端显示其他会议成员时，只能将其他人合并一路流，返回给<span
lang=EN-US>sip</span>客户端显示。如果支持双流，将会议共享视频返回<span lang=EN-US>sip sub</span>通道。</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;font-family:宋体'>否则同时将会议共享视频与成员视频混成一路，返回给<span
lang=EN-US>sip main</span>通道。</span></p>

<h1><a name="_Toc14873729">应用场景</a></h1>

<h2><a name="_Toc14873730">客户端接入场景</a></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp; </span><span style='font-size:
12.0pt;font-family:宋体'>针对一个会议系统，不同客户端同时加入会议时，有不同类型的客户端</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:12.0pt;font-family:宋体'><img
width=456 height=206 src="sip_conf_client.files/image001.png"></span></p>

<p class=MsoNormal><span style='font-size:12.0pt;font-family:宋体'>各个客户端在不同场合下，一般有这些使用场景</span></p>

<p class=MsoListParagraph style='margin-left:33.75pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>一个<span lang=EN-US>sip</span>客户端，一个自研客户端</span></p>

<p class=MsoListParagraph style='margin-left:33.75pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>仅有一个或以上自研客户端</span></p>

<p class=MsoListParagraph style='margin-left:33.75pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>一个<span lang=EN-US>sip</span>客户端，多个自研客户端</span></p>

<p class=MsoListParagraph style='margin-left:33.75pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>仅有一个或以上<span
lang=EN-US>sip</span>客户端</span></p>

<p class=MsoListParagraph style='margin-left:33.75pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>多个<span lang=EN-US>sip</span>客户端，一个自研客户端</span></p>

<p class=MsoListParagraph style='margin-left:33.75pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>多个<span lang=EN-US>sip</span>客户端，多个自研客户端</span></p>

<p class=MsoNormal><span style='font-size:12.0pt;font-family:宋体'>如果就两个客户端，就是点对点方式，多于两个客户端是会议</span></p>

<p class=MsoNormal style='margin-left:15.75pt'><span lang=EN-US
style='font-size:12.0pt;font-family:宋体'>sip</span><span style='font-size:12.0pt;
font-family:宋体'>客户端有单流与双流之分。针对单流，如果只看其中一人视频，直接转发，否则需要混屏成一路再转发。 针对双流，如果只看其中一人视频，同时看共享屏幕，直接转发，否则混屏成一</span></p>

<p class=MsoNormal style='margin-left:15.75pt'><span lang=EN-US
style='font-size:12.0pt;font-family:宋体'>&nbsp;</span></p>

<h2><a name="_Toc14873731">需混屏场景</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=548
 style='width:411.1pt;border-collapse:collapse'>
 <tr style='height:14.25pt'>
  <td width=95 nowrap valign=top style='width:71.0pt;background:#D9D9D9;
  padding:0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><b><span
  style='font-size:11.0pt;color:black'>三方客户端</span></b></p>
  </td>
  <td width=74 nowrap colspan=2 valign=top style='width:55.45pt;background:
  #D9D9D9;padding:0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><b><span
  style='font-size:11.0pt;color:black'>共享视频</span></b></p>
  </td>
  <td width=76 nowrap valign=top style='width:2.0cm;background:#D9D9D9;
  padding:0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><b><span
  style='font-size:11.0pt;color:black'>点对点</span></b></p>
  </td>
  <td width=304 nowrap valign=top style='width:227.95pt;background:#D9D9D9;
  padding:0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><b><span
  style='font-size:11.0pt;color:black'>会议</span></b></p>
  </td>
 </tr>
 <tr style='height:14.25pt'>
  <td width=95 nowrap valign=bottom style='width:71.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>单流</span></p>
  </td>
  <td width=68 nowrap valign=bottom style='width:51.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>无</span></p>
  </td>
  <td width=82 nowrap colspan=2 valign=bottom style='width:61.15pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>不混屏</span></p>
  </td>
  <td width=304 nowrap valign=bottom style='width:227.95pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>混屏所有</span></p>
  </td>
 </tr>
 <tr style='height:14.25pt'>
  <td width=95 nowrap valign=bottom style='width:71.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>单流</span></p>
  </td>
  <td width=68 nowrap valign=bottom style='width:51.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>有</span></p>
  </td>
  <td width=82 nowrap colspan=2 valign=bottom style='width:61.15pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>混屏</span></p>
  </td>
  <td width=304 nowrap valign=bottom style='width:227.95pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>首先混屏成员，后共享混屏</span></p>
  </td>
 </tr>
 <tr style='height:14.25pt'>
  <td width=95 nowrap valign=bottom style='width:71.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>双流</span></p>
  </td>
  <td width=68 nowrap valign=bottom style='width:51.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>无</span></p>
  </td>
  <td width=82 nowrap colspan=2 valign=bottom style='width:61.15pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>不混屏</span></p>
  </td>
  <td width=304 nowrap valign=bottom style='width:227.95pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>混屏所有</span></p>
  </td>
 </tr>
 <tr style='height:14.25pt'>
  <td width=95 nowrap valign=bottom style='width:71.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>双流</span></p>
  </td>
  <td width=68 nowrap valign=bottom style='width:51.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>有</span></p>
  </td>
  <td width=82 nowrap colspan=2 valign=bottom style='width:61.15pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>不混屏</span></p>
  </td>
  <td width=304 nowrap valign=bottom style='width:227.95pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:14.25pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-size:
  11.0pt;color:black'>混屏成员，共享不混屏</span></p>
  </td>
 </tr>
 <tr height=0>
  <td width=95 style='border:none'></td>
  <td width=68 style='border:none'></td>
  <td width=6 style='border:none'></td>
  <td width=76 style='border:none'></td>
  <td width=304 style='border:none'></td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:15.75pt'><span lang=EN-US
style='font-size:12.0pt;font-family:宋体'>&nbsp;</span></p>

<h1><a name="_Toc14873732">系统设计</a></h1>

<h2><a name="_Toc14873733">系统架构</a></h2>

<p class=MsoNormal><span lang=EN-US><img width=964 height=493
src="sip_conf_client.files/image002.png"></span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>sipsingGW</span><span
style='font-size:12.0pt;font-family:宋体'>是<span lang=EN-US>sip</span>客户端的信令网关，实现了<span
lang=EN-US>sip</span>协议栈，同时将<span lang=EN-US>sip</span>信令转封后生成自有协议与会议<span
lang=EN-US>callroute</span>交互</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>SipMediaGW</span><span
style='font-size:12.0pt;font-family:宋体'>是<span lang=EN-US>sip</span>客户端媒体网关，完成<span
lang=EN-US>sip</span>客户端与会议<span lang=EN-US>mas</span>媒体的中转</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>sip</span><span
style='font-size:12.0pt;font-family:宋体'>客户端与<span lang=EN-US>sip</span>信令网关连接， 信令网关将客户端信令，封装后转发给<span
lang=EN-US>callroute</span></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>callroute</span><span
style='font-size:12.0pt;font-family:宋体'>将信息能通知<span lang=EN-US>mcs, mcs</span>将<span
lang=EN-US>sip</span>客户端加入会议，同时通知<span lang=EN-US>mas</span>与<span lang=EN-US>sip</span>媒体网关创建媒体通道，同时获取相关信息，返回给<span
lang=EN-US>callroute, callroute</span>同时返回<span lang=EN-US>sip</span>信令网</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
style='font-size:12.0pt;font-family:宋体'>再返回给<span lang=EN-US>sip</span>客户端</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>sip</span><span
style='font-size:12.0pt;font-family:宋体'>客户端收到媒体通道相关信息之后，将本地媒体，发送给<span
lang=EN-US>sip</span>媒体网关，同时媒体网关将转发到<span lang=EN-US>mas,&nbsp; sip</span>从媒体网关转发过来的其他成员媒体</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>sip</span><span
style='font-size:12.0pt;font-family:宋体'>客户端接收其他成员视频时，<span lang=EN-US>mas</span>将媒体转发到<span
lang=EN-US>sip</span>媒体网关，媒体网关再转发到<span lang=EN-US>sip</span>客户端</span></p>

<h2><a name="_Toc14873734"><span lang=EN-US>SIP</span>单流架构</a></h2>

<p class=MsoNormal><span lang=EN-US><img width=1008 height=608
src="sip_conf_client.files/image003.png"></span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>sip</span><span
style='font-size:12.0pt;font-family:宋体'>客户端加入会议，将媒体发送给<span lang=EN-US>sip</span>网关，</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>如果接收其他人视频时，加入会议时，<span
lang=EN-US>mcs</span>会检查，如果对方是一个人，通知<span lang=EN-US>mas</span>将对方媒体转发给<span
lang=EN-US>sip</span>媒体网关，</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>如果对方是多个人，或需要共享视频，先停止<span
lang=EN-US>mas</span>的成员视频，将多人成员视频与共享视频转发给<span lang=EN-US>mcu, mcu</span>混屏之后，再转发给媒体网关</span></p>

<h2><img width=1017 height=694 src="sip_conf_client.files/image004.png"
align=left hspace=12><a name="_Toc14873735"><span lang=EN-US>SIP</span>双流架构</a></h2>

<p class=MsoNormal><span lang=EN-US><br clear=all>
</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US style='font-size:12.0pt;font-family:宋体'>sip</span><span
style='font-size:12.0pt;font-family:宋体'>客户端加入会议，将媒体发送给<span lang=EN-US>sip</span>网关，</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>如果接收其他人视频时，加入会议时，<span
lang=EN-US>mcs</span>会检查，如果对方是一个人，通知<span lang=EN-US>mas</span>将对方媒体转发给<span
lang=EN-US>sip</span>媒体网关，如果是多个，需要已停止<span lang=EN-US>mas</span>到媒休网关的转发，发送到<span
lang=EN-US>mcu, mcu</span>将多人混屏，再转发给<span lang=EN-US>sip</span>媒体网关</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US style='font-size:12.0pt;font-family:宋体'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span style='font-size:12.0pt;font-family:宋体'>如果需要共享视频，通知<span
lang=EN-US>mas</span>将共享视频，转发给<span lang=EN-US>sip</span>媒体网关</span></p>

<h2><a name="_Toc14873736">客户端视频流交互</a></h2>

<h3><a name="_Toc14873737">一个<span lang=EN-US>SIP</span>客户端<span lang=EN-US>(</span>单流<span
lang=EN-US>)</span>与会议客户端</a></h3>

<p class=MsoNormal><span lang=EN-US><img width=999 height=141
src="sip_conf_client.files/image005.png"></span></p>

<h3><a name="_Toc14873738">一个<span lang=EN-US>SIP</span>客户端<span lang=EN-US>(</span>单流<span
lang=EN-US>)</span>与会议客户端<span lang=EN-US>(</span>共享屏幕<span lang=EN-US>)</span></a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1007 height=304
src="sip_conf_client.files/image006.png"></span></p>

<p class=MsoNormal><span lang=EN-US>S:</span>代表共享视频，屏幕视频</p>

<h3><a name="_Toc14873739">一个<span lang=EN-US>SIP</span>客户端<span lang=EN-US>(</span>双流<span
lang=EN-US>)</span>与会议客户端</a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1026 height=145
src="sip_conf_client.files/image007.png"></span></p>

<h3><a name="_Toc14873740">一个<span lang=EN-US>SIP</span>客户端<span lang=EN-US>(</span>双流<span
lang=EN-US>)</span>与会议客户端<span lang=EN-US>(</span>共享屏幕<span lang=EN-US>)</span></a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1036 height=163
src="sip_conf_client.files/image008.png"></span></p>

<h3><a name="_Toc14873741">两个<span lang=EN-US>SIP</span>客户端</a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1043 height=508
src="sip_conf_client.files/image009.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><a name="_Toc14873742">两个<span lang=EN-US>SIP</span>客户端<span lang=EN-US>(</span>共享屏幕<span
lang=EN-US>)</span></a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1036 height=749
src="sip_conf_client.files/image010.png"></span></p>

<h3><a name="_Toc14873743">两个<span lang=EN-US>SIP</span>客户端与一个会议客户端</a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1015 height=721
src="sip_conf_client.files/image011.png"></span></p>

<h3><a name="_Toc14873744">两个<span lang=EN-US>SIP</span>客户端与一个会议客户端<span
lang=EN-US>(</span>共享屏幕<span lang=EN-US>)</span></a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1007 height=715
src="sip_conf_client.files/image012.png"></span></p>

<h3><a name="_Toc14873745">两个<span lang=EN-US>SIP</span>客户端<span lang=EN-US>(</span>共享屏幕<span
lang=EN-US>)</span>与一个会议客户端</a></h3>

<p class=MsoNormal><span lang=EN-US><img width=1007 height=715
src="sip_conf_client.files/image013.png"></span></p>

<h2><a name="_Toc14873746">客户端音视交互</a></h2>

<p class=MsoNormal><span lang=EN-US><img width=1007 height=715
src="sip_conf_client.files/image014.png"></span></p>

<h2><a name="_Toc14873747"><span lang=EN-US>sip</span>客户端与会议系统信令与媒体交互</a></h2>

<p class=MsoNormal><span lang=EN-US><img width=1008 height=594
src="sip_conf_client.files/image015.png"></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端连接到<span lang=EN-US>sip</span>信令网关</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>信令网关将<span lang=EN-US>sip</span>协议请求转发<span
lang=EN-US>pb</span>私有协议后，再通知<span lang=EN-US>callroute, callroute</span>首先发送<span
lang=EN-US>request</span>命令，请求<span lang=EN-US>mcs</span>创建相关媒体通道</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>mcs</span>收到<span lang=EN-US>request</span>命令，分别给<span
lang=EN-US>sip</span>媒体网关<span lang=EN-US>,mas, mps</span>发送<span lang=EN-US>CreateChannel</span>发送创建媒体通道，</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>媒体网关收到<span lang=EN-US>CreateChannel</span>后，创建与<span
lang=EN-US>sip</span>客户端发送与接收媒体的通道（外网），同时创建与<span lang=EN-US>mas</span>发送与接收的媒体通道<span
lang=EN-US>(</span>内网<span lang=EN-US>)</span>。<span lang=EN-US>sip</span>媒体网关就内外网地址与端口返回<span
lang=EN-US>mcs, mcs</span>将返回结果原路返回<span lang=EN-US>callroute ,
callroute=&gt;sip</span>信令网关 将转换<span lang=EN-US>sip</span>协议<span lang=EN-US>sdp</span>返回给<span
lang=EN-US>sip</span>客户端</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>mas</span>收到<span lang=EN-US>CreateChannel</span>创建相应的媒体通道，<span
lang=EN-US>mps</span>收到<span lang=EN-US>CreateChannel</span>创建相应通道</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>同时<span lang=EN-US>callroute</span>发送<span lang=EN-US>notify</span>命令给<span
lang=EN-US>mcs, mcs</span>将其分别发送给<span lang=EN-US>sip</span>媒体网关<span
lang=EN-US>,mas,mps,</span></p>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>sip</span>媒体网关收到<span
lang=EN-US>notify</span>后，连接到<span lang=EN-US>mas,</span>打通媒体通道，同时向<span
lang=EN-US>mas</span>发送请求对方视频请求。</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端根据返回的信息，创建媒体，向<span lang=EN-US>sip</span>媒体网关发送媒体，同时请求对方音视频</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<h2><a name="_Toc14873748"><span lang=EN-US>sip</span>客户端与会议系统信令与媒体交互<span
lang=EN-US>(</span>混屏<span lang=EN-US>)</span></a></h2>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US><img width=996 height=510 src="sip_conf_client.files/image016.png"></span></p>

<p class=MsoNormal>该流程是在<span lang=EN-US>sip</span>客户端已加入会议但为混屏情况下进行</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>mcs</span>给<span lang=EN-US>mcu</span>发送<span
lang=EN-US>CreateEndpoint, mcu</span>返回<span lang=EN-US>IP</span>与端口</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>mcs </span>发送<span lang=EN-US>notify </span>通知<span
lang=EN-US>mas</span>把视频发送给<span lang=EN-US>MCU</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>mcs </span>给 <span lang=EN-US>sip</span>媒体网关发送<span
lang=EN-US>updateChannel </span>将通道停止从<span lang=EN-US>mas</span>拉流，准备从<span
lang=EN-US>mcu</span>接收视频</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>mcs </span>给<span lang=EN-US>mcu </span>发送<span
lang=EN-US>CreateObserver</span>命令，将混屏输出到<span lang=EN-US>sip</span>媒体网关的视频通道</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><a name="_Toc14873749">接口设计</a></h1>

<h2><span lang=EN-US>&nbsp;<a name="_Toc14873750">mcs-&gt;sip</a></span>媒体网关新增接口</h2>

<p class=MsoListParagraph style='margin-left:23.25pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>通知参数</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>struct NotifyParam {</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:i64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; selfSsrc,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2:i64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reqSsrc,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3:i32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mediatype,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4:string&nbsp;&nbsp; ip,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5:i32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rtpport,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6:i32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rtcpport,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7:i32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; antipayload,</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8:i32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
reqpush,&nbsp;&nbsp; 0&nbsp; </span>从<span lang=EN-US>mas</span>拉流 <span
lang=EN-US>&nbsp;1</span>不从<span lang=EN-US>mas</span>拉流</p>

<p class=MsoNormal><span lang=EN-US>}</span></p>

<h1><a name="_Toc14873751">测试用例</a></h1>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端加入会议后，会议客户端没有共享屏幕</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端加入会议后，会议客户端已开共享屏幕</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端，会议客户端加入会议后，再开启共享屏幕</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端退出会议</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>会议客户端退出会议，</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>双流客户端加入会议，同时开启共享</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>7.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>先一<span lang=EN-US>sip</span>客户端加入会议， 不段有不同客户端加入会议</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>8.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>一段时间内有不同客户端退出会议，最后只剩一个<span lang=EN-US>sip</span>客户端</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>9.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>sip</span>客户端加入，马入退出会议</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>10.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>所有<span
lang=EN-US>sip</span>客户端退出会议，只剩会议客户端</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>11.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span>会议客户端已开共享屏幕，
双流<span lang=EN-US>sip</span>客户端再开共享屏幕</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>12.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=EN-US>sip</span>客户端双流加入会议后，会议已开启共享屏幕，再关闭共享屏幕</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>13.<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
lang=EN-US>sip</span>客户端单流加入会议后，会议已开启共享屏幕，再关闭共享屏幕</p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:0cm'><span
lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
